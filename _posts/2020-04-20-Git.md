---
layout: post
title: Git一些使用方法
---

# Tag 
* Git tag tagname    //创建本地tag分支 
  Git push origin tagname //将本地的tag推到服务器    

# 修改最后一次提交  
* 如果觉得刚提交的“修改说明”写得不够好，前提是没有push到远程分支，可输入以下命令调整  

* git commit -amend -m "your new message"  
* 修改完成后使用 git rebase --continue  

* git commit -m “c3”  

* git add ant.txt  
* git commit --amend --no-edit(之前已经commit了但是有新加了一个文件，这样就可以在最后一次提交中追加一个新的文件)  

* --no-edit表示最后一次提交信息"c3"没必要修改，保持原样即可,如果需要修改，采用如下命令:git commit --amend -m "add new file"  

# 调整commit排列顺序  
* git log --oneline  查看当前的提交历史  
* git rebase -i b0aa963(b0aa963用来确定commit范围，表示从此提交开始到当前的提交（不包括b0aa963提交）)  
* 调整顺序 保存即可  
*** pick 不做改变  
*** edit 修改  
*** 删除 就直接把那一行删除掉就行  
* 保存完后自动执行到需要edit的commit，然后执行修改 git add . git commit --amend 对commit修改完成后git rebase --continue 然后进入第二个需要edit的commit，然后重复修改git add . git commit --amend 对commit修改完成后git rebase --continue 直到改完需要edit的commit 如果不需要修改就直接git rebase --continue   

# git fetch从远程获取最新版本到本地，不会自动合并分支  
* git pull的默认行为是git fetch + git merge  
* git pull --rebase则是git fetch + git rebase.  
* git pull --rebase执行过程中会将本地当前分支里的每个提交(commit)取消掉，然后把将本地当前分支更新为最新的"origin"分支,然后再将本地的commit返回，之后如果有合并冲突  
* git rebase --abort 会放弃合并，回到rebase操作之前的状态，之前的提交的不会丢弃。就是撤销rebase。  
* git rebase --skip 则会将引起冲突的commits丢弃掉（慎用！！）；  
* git rebase --continue 合并冲突，结合"git add 文件"命令一起用与修复冲突，提示开发者，一步一步地有没有解决冲突。  
* git push -u origin mybranch1 相当于 git push origin mybranch1 + git branch --set-upstream-to=origin/mybranch1 mybranch1
-u选项会指定一个默认主机，这样后面就可以不加任何参数使用git push  

# git撤销  
* git reset --hard <版本号> 会抛弃当前工作区的修改  
* 使用 --soft 参数的话会回退到之前的版本，但是保留当前工作区的修改，可以重新提交(重回未add和commit的状态)  

* git push origin <分支名>  
* $ git push origin :master # 等同于 $ git push origin --delete master  
* 上面命令表示删除origin主机的master分支。  

# 强制覆盖远端分支  
* 当提示本地的版本落后于远端的版本；为了覆盖掉远端的版本信息，使远端的仓库也回退到相应的版本，需要加上参数--force  
* git push origin <分支名> --force 或者 git push --force origin <分支名>
